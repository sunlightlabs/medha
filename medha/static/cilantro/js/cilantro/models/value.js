define(["underscore","backbone","../constants"],function(e,t,n){var i=t.Model.extend({idAttribute:"label",defaults:{valid:null,pending:!1},fetch:function(){},toJSON:function(e){return e&&e.flat?this.pluck("value"):this.pick("value","label")},destroy:function(e){this.trigger("destroy",this,this.collection,e)}}),c=t.Collection.extend({model:i,options:{check:!0},initialize:function(t,i){i=e.extend({},this.options,i||{}),i.check&&this.on("add reset",e.debounce(this.check,n.INPUT_DELAY))},fetch:function(){},create:function(e,t){this.add(e,t)},check:function(){var n=this.where({valid:null,pending:!1});if(n.length&&this.url){e.each(n,function(e){e.set("pending",!0,{silent:!0})}),this.trigger("change");var i=this;t.ajax({url:this.url(),type:"POST",data:JSON.stringify(n),contentType:"application/json",success:function(e){i.set(e,{add:!1,remove:!1,silent:!0})},complete:function(){e.each(n,function(e){e.set("pending",!1,{silent:!0})}),i.trigger("change")}})}}});return{Value:i,Values:c}});
//# sourceMappingURL=value.js
//# sourceMappingURL=value.js.map